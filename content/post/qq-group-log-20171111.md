{
  "date": "2017-11-11T00:55:32+08:00",
  "languageCode": "zh-cn",
  "keywords": "Haskell, HaskellChina",
  "tags": [
    "2017-11"
  ],
  "title": "QQ Group Log of HaskellChina: 20171111",
  "categories": [
    "HaskellChina", "QQLog"
  ]
}



#### 胖胖 :

<span class="article-duration">2017-11-11 00:16:28</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 胖胖 :

<span class="article-duration">2017-11-11 00:16:38</span>

就是不升级

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:41:17</span>

@‮秒一了续并‭交易完成感到偷税  看了看React，感觉自己是重新造了一个简化版的react。。。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Glavo :

<span class="article-duration">2017-11-11 10:43:35</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### Glavo :

<span class="article-duration">2017-11-11 10:43:43</span>

。。。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Glavo :

<span class="article-duration">2017-11-11 10:43:50</span>

前端人就喜欢造轮子

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:44:16</span>

瞎说，我本来是写C++（Qt）的，才不是什么前端。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:44:55</span>

前端应该是干啥都npm install，cpp才造轮子

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:45:03</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:45:34</span>

你以为npm里那几十万个包功能都不一样？

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:46:15</span>

但是你只要install一次，世界上就少了一个轮子

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:46:22</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:46:36</span>

那你以为那几十万个包是怎么来的。。。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Glavo :

<span class="article-duration">2017-11-11 10:46:52</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:46:59</span>

你不install就不只这个数啊

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:47:20</span>

咦，这个包虽然蛮好的，可是我需要xxx。于是npm就多了十几个包。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:47:33</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:48:11</span>

这难道还不叫功能不一样么

<hr style="border-top: 1px dotted grey;width:99%"/>



#### . :

<span class="article-duration">2017-11-11 10:48:11</span>

你们以为npm只是发包吗

<hr style="border-top: 1px dotted grey;width:99%"/>



#### . :

<span class="article-duration">2017-11-11 10:48:14</span>

我都是当网盘用的

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 10:48:21</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### . :

<span class="article-duration">2017-11-11 10:48:21</span>

npm init; npm adduser; npm publish 

<hr style="border-top: 1px dotted grey;width:99%"/>



#### . :

<span class="article-duration">2017-11-11 10:48:24</span>

比git还简单

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:48:24</span>

23333.。。。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### . :

<span class="article-duration">2017-11-11 10:48:28</span>

甚至不用去官网注册下

<hr style="border-top: 1px dotted grey;width:99%"/>



#### . :

<span class="article-duration">2017-11-11 10:48:41</span>

github你至少要网页或者哪里开个repo

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:48:42</span>

好了再水就要被塞抹布了

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:58:04</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 10:58:19</span>

总感觉我把js写成了php/捂脸

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 大笨蛋千里冰封 :

<span class="article-duration">2017-11-11 11:00:06</span>

为啥不用expression body

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 11:00:31</span>

语义不够明显

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 魔理沙 :

<span class="article-duration">2017-11-11 11:03:23</span>

话说有没有人用过yesod？能不能分享下经验，写写blog什么的，从来不知道是啥

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 11:03:54</span>

那个写web应用的yesod？

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 大笨蛋千里冰封 :

<span class="article-duration">2017-11-11 11:03:58</span>

我昨天在StackOverflow上看到了问题。。。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 大笨蛋千里冰封 :

<span class="article-duration">2017-11-11 11:04:03</span>

就是yesod

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Jin :

<span class="article-duration">2017-11-11 11:30:00</span>

饼干啊

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Jin :

<span class="article-duration">2017-11-11 11:30:50</span>

他不是在群里晒过yesod吗

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 老农 :

<span class="article-duration">2017-11-11 11:31:20</span>

https://github.com/303248153/CppMonad[惊讶]自己写的用c++实现hs类型的类库，大佬们手下留情

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 老农 :

<span class="article-duration">2017-11-11 11:32:54</span>

https://github.com/aui/art-templatejs拼html应该用这种类库，不然就掉到XSS里面

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 11:39:45</span>

@老农 页面是跑在electron上的，也就没考虑xss

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 老农 :

<span class="article-duration">2017-11-11 11:40:27</span>

不是更危险么，连沙箱都没有

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 老农 :

<span class="article-duration">2017-11-11 11:40:48</span>

[太阳]除非服务端所有数据都不能由用户提交

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 11:40:59</span>

。。。所以破罐子破摔了啊

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 老农 :

<span class="article-duration">2017-11-11 11:41:07</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 11:41:19</span>

xss交给服务端来填坑

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 11:41:30</span>

况且用户数据极少的

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 魏耀东 :

<span class="article-duration">2017-11-11 11:51:25</span>

前端群，前端群

<hr style="border-top: 1px dotted grey;width:99%"/>



#### FTS :

<span class="article-duration">2017-11-11 12:23:04</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### FTS :

<span class="article-duration">2017-11-11 12:23:12</span>

bilibili有yesod的介绍 

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Narc :

<span class="article-duration">2017-11-11 12:23:55</span>

我看过，超级水

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 大笨蛋千里冰封 :

<span class="article-duration">2017-11-11 12:24:26</span>

这个up是谁

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 大笨蛋千里冰封 :

<span class="article-duration">2017-11-11 12:24:31</span>

在群里吗

<hr style="border-top: 1px dotted grey;width:99%"/>



#### FTS :

<span class="article-duration">2017-11-11 12:24:35</span>

都说是介绍...

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 左新宇 :

<span class="article-duration">2017-11-11 12:25:35</span>

感觉也无非是mvc那一套，沾了静态编译型比脚本快的光

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 12:27:33</span>

我看过

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 三七二十‭ :

<span class="article-duration">2017-11-11 12:28:12</span>

入门教程基本都这样，总不能因为是haskell就要求高些吧

<hr style="border-top: 1px dotted grey;width:99%"/>



#### FTS :

<span class="article-duration">2017-11-11 12:32:47</span>

感觉也无非是mvc那一套，沾了静态编译型比脚本快的光<br /><<<br />重点不是快…是 type safe

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 胖胖 :

<span class="article-duration">2017-11-11 13:42:01</span>



<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:16:03</span>

@Felis sapiens hs 哪个库比较适合拿来编码二进制数据

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:17:28</span>

需要考虑其他语言读写否

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:17:47</span>

格式是公开标准

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:18:04</span>

所以你只是写 binary parser/serializer

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:18:15</span>

里面有许多细碎的 struct，用 16 位的 offset 串起来，而且允许相同内容的 struct 被合并到一起，甚至部分重叠

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:18:22</span>

格式是已经有了不用自定

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:18:46</span>

多大

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:18:48</span>

是

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:18:55</span>

最大输出大概 200MB

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:19:15</span>

（当然 200MB 这种里面就有一堆一堆的长字符串

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:19:52</span>

parser:attoparsec serializer:用 bytestring 库自带的 builder 就行

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:20:28</span>

问题是这样的写的时候很容易出现大量重复的 Struct，而这些 struct 是可以共享的

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:20:49</span>

它们被其他 struct 里的指针引用

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:20:49</span>

然后你要取 id 去重？

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:21:18</span>

是，而且要保证指针不溢出（因为 offset 只有 16 位）所有指针都是相对于包含它的 struct

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:21:30</span>

这是另一个层面的事情，如何去重的逻辑需要自己写。。serializer库不管

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:23:20</span>

我希望是有类似这种 api:struct [be16 123, offset16 struct1, offset16 struct2, offset16 struct1]

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:24:48</span>

然后输出的时候第二和第四个 offset 就会给写成相同的，指向同一块字节

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 16:27:07</span>

那只能先扫一遍自己用 hashmap 做 hash consing 了（

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:30:08</span>

而且牵涉到多级引用导致如果两个三级的 block 给合并了，那么二级 block 也会变为可合并的

<hr style="border-top: 1px dotted grey;width:99%"/>



#### (ーー゛)be5 :

<span class="article-duration">2017-11-11 16:32:01</span>

当然循环引用不会出现

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 魔理沙 :

<span class="article-duration">2017-11-11 17:08:16</span>

@胖胖 你在看这本书吗？

<hr style="border-top: 1px dotted grey;width:99%"/>



#### 老农 :

<span class="article-duration">2017-11-11 18:49:41</span>

[太阳]是该给docker，这些东西一个比一个难装

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 21:22:31</span>

据说如果把 glibc 静态链接的话有一些库函数会出问题？有人踩过这坑吗

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 21:23:26</span>

是的话那大概需要从 ubuntu 换到 alpine 重新做 image。。

<hr style="border-top: 1px dotted grey;width:99%"/>



#### kkkkk :

<span class="article-duration">2017-11-11 22:26:19</span>

socket, pthread有坑

<hr style="border-top: 1px dotted grey;width:99%"/>



#### F :

<span class="article-duration">2017-11-11 22:34:45</span>

pthread也有坑?

<hr style="border-top: 1px dotted grey;width:99%"/>



#### Felis sapiens :

<span class="article-duration">2017-11-11 22:36:04</span>

我看到的说法是 libdl 不行。。但不用不就好了。。（

<hr style="border-top: 1px dotted grey;width:99%"/>




以上内容来自 [Haskell函数式编程] QQ 群。

